meta:
  app_id:
  type: #data | channel
  display_name:
  version:
  vendor: shopify
  support_url:
  description:
  contact_email:
  pricing_url: #optional
  #Future: release notes?

runtime: node11

#Rely on conventions for lifecycle (install, upgrade, uninstall, etc.)
#i.e. install.js, upgrade.js, uninstall.js for node11
defaults:
    permissions:
      -READ_WRITE_KV
      -READ_DOCUMENTS
      -<READ|WRITE>_<SVC>
    environment:
      ENV_VAR1: @my_secret@ #inherit defaults

functions:
  foo:
    #Function spec
    entry_point: functions.doFoo
    triggers:
      url: post | get // if not included, inferred to be private
      interval: x seconds | minutes | hours | days | weeks | months
      cron: <cron_expression>
      events:
        - type: consent
          action: opt-in
        - type: list
          action: subscribe

jobs:
  importMyData:
    entry_point: jobs.importMyData
    triggers:
      interval: x seconds | minutes | hours | days | weeks | months
      cron: <cron_expression>
      #Always allow via webhook for testing/debugging

schema: #discuss format
  objects:
    - reviews
  fields:
    - products.fieldname
  relationships:
    - 
